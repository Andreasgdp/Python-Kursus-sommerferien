# Hvad er klasser, og hvad bruger man dem til?
En af de vigtigere elementer af programmering er OOP (Objekt orienteret programmering). I Python betyder det brug af klasser. Dette dokument vil dermed g친 over nogle generelle ting omhandlende klasser og nogle enkelte mere avancerede omr친der.

---

## Hvad er en klasse? 游뱂
En klasse kan forst친s som en fabrik, som producerer en bestemt type produkter med nogle bestemte egenskaber. 

Det kunne v칝re at man havde klassen `Flaskefabrik`, som producerede flasker. I den klasse, vil der s친 v칝re en `__init__()`-metode, som beskriver, attributterne (egenskaberne) for hver flaske. 
```python
class Flaskefabrik:
  def __init__(self, h칮jde, volumen):
    self.h칮jde = h칮jde
    self.volumen = volumen
```
I dette tilf칝lde, ville man kunne lave en flaske p친 f칮lgende m친de:
```python
stor_flaske = Flaskefabrik(h칮jde = 30, volumen = 1)
```
I dette eksempel har vi lavet en stor flaske, med en h칮jde p친 `30` og en volumen p친 `1`. 
Flasken her kaldes et objekt, da alt, hvad der bliver oprettet af en klasse, er et objekt. Flasken er p친 samme tid en instans af klassen `Flaskefabrik``.

### Hvordan er det helt pr칝cist, at objekter fremstilles?
Hvis vi tager samme eksempel som f칮r, s친 bliver der oprettet et nyt objekt, n친r klassen `Flaskefabrik` bliver kaldt. Dette sker her:
```python
stor_flaske = Flaskefabrik(h칮jde = 30, volumen = 1)
```
I `__init__(self, h칮jde, volumen):`-metoden, bliver det nye objekt sat ind p친 self's plads, hvorefter det f친r tilf칮rt attributterne h칮jde og volumen p친 f칮lgende m친de:
```python
self.h칮jde = h칮jde
self.volumen = volumen
```
Dette betyder, at n친r man vil f친 disse v칝rdier ud igen, skal man kalde de bestemte v칝rdier. Det kan g칮res p친 f칮lgende m친de:
```python
print(stor_flaske.h칮jde)

>>> 30
```

---

## Fagsprog
N친r man omtaler klasser er der nogle fagord, som man skal have l칝rt at bruge, for bedre at kunne forst친 og formidle brugen af klasser. 

### `Attributter`
Attributter er de egenskaber, som objekterne har. Tager vi flasken igen, s친 har den to egenskaber/to attributter: h칮jde og volumen. Attributterne af objekter er dem, som man kan komme til ved at skrive objektet efterfulgt af et punktum og navnet p친 attributtet. 
```python
stor_flaske = Flaskefabrik(h칮jde = 30, volumen = 1)

flaske_h칮jde = stor_flaske.h칮jde
```

### `Metoder`
Metoder er funktioner, som er forbundet med klasser. Her har man et eksempel p친 en klasse og funktioner i den:
```python
class Vector:
  def __init__(self, x, y, z):
    self.x = x
    self.y = y
    self.z = z


  @classmethod
  def stedvektor(cls, p: Point):

    return cls(p.x, p.y, p.z)


  def length(self):
    l = math.sqrt(self.x**2 + self.y**2 + self.z**2)
    l = "{:10.2f}".format(l)

    return float(l)
```
Klassen hedder selvf칮lgelig *Vector*, og inden i den er der 3 funktioner, som, fordi de er i en klasse, hedder metoder. Der er dog en yderligere forskel p친 de tre metoder.

Den f칮rste metode er en reserveret metode, da den biddrager med nogle s칝rlige funktioner i Python (Dette er f.eks. `__str__()`-metoden ogs친).

Den anden metode er, som det st친r over metoden, en klasse-metode. Klasse-metoder bruger man for at kunne returnere objekter af samme type, som klassen. DVS. at hvis klassen returnerer vektorer, som eksemplet g칮r, s친 vil en klasse-metode ogs친 kunne returnere en vektor.

Den sidste metode i eksemplet er bare kaldet en metode, da den ikke har noget s칝rligt ved sig.

---

## Klasse-variabler
N친r man arbejder med klasser er det meget smart at kunne have nogle variabler, som er generelle for alle instanser af klassen (eller, som i hvert fald starter med at v칝re den samme). Dette er smart, da der dermed vil v칝re enstemmighed for alle instanser af klassen fra starten af, og man kan s친 칝ndre i nogle af disse variabler for specifikke instanser, for at 칝ndre adf칝ren for disse specifikke instanser.

Det er lidt meget, men her kommer nogle eksempler:

Herunder er en klasse `Google` defineret. Klassen har attributterne:
1. `produktnavn`
   1. Navnet p친 et af Googles produkter.
2. `produkttype`
   1. Typen af det produkt.
3. `support`
   1. Den email, som h칮rer til produkttypen.
4. `pris`
   1. Prisen for produktet.

Klassen har ogs친 en metode, som returnerer en visuel representation af et produkts attributter.

```python
class Google:

  def __init__(self, produktnavn, produkttype, pris):
    self.produktnavn = produktnavn
    self.produkttype = produkttype
    self.support = f'{produkttype}@Google.com'
    self.pris = pris


  def produktinformation(self):
    return f'''
    Produktnavn: {self.produktnavn}
    produkttype: {self.produkttype}
    Kontakt support: {self.support}
    Produktpris: {self.pris} kr.
    '''


prod_1 = Google(produktnavn = 'Pixel', produkttype = 'Telefon', pris = 3000)

print(prod_1.produktinformation())

>>> Produktnavn: Pixel
>>> produkttype: Telefon
>>> Kontakt support: Telefon@Google.com
>>> Produktpris: 3000 kr.
```
Hvis man s친 vil tilf칮je nogle generelle elementer til sin klasse, som skal deles af alle instanser, bruger man klasse-variabler. Herunder er der tilf칮jet to klasse-variabler:

1. `antal_produkter`
   1. Denne klasse-variabel starter med at v칝re 0. For hver gang der bliver lavet et nyt produkt (n친r man kalder klassen og derved kalder `__init__`), vil der s친 blive tillagt 1 til variablen.
2. `rabatfaktor`
   1. Denne v칝rdi er en faktor, som ganges p친 et produkts pris i funktionen `tilf칮r_rabat()`. Denne variabel, ligesom den anden, er generel for alle produkter lavet med klassen `Google`.

```python
class Google:
  antal_produkter = 0 # antallet af produktet i starten
  rabatfaktor = 0.80 # 20% reduktion


  def __init__(self, produktnavn, produkttype, pris):
    self.produktnavn = produktnavn
    self.produkttype = produkttype
    self.support = f'{produkttype}@Google.com'
    self.pris = pris

    # l칝gger 1 til antallet af produkter, hver gang et nyt produkt 
    # bliver lavet med __init__
    Google.antal_produkter += 1 


  def produktinformation(self):
    return f'''
    Produktnavn: {self.produktnavn}
    produkttype: {self.produkttype}
    Kontakt support: {self.support}
    Produktpris: {self.pris} kr.
    '''


  def tilf칮r_rabat(self):
    self.pris = int(self.pris * self.rabatfaktor)


prod_1 = Google(produktnavn = 'Pixel', produkttype = 'Telefon', pris = 3000)

print(f'Antallet af Googles produkter: {Google.antal_produkter}')

print(f'\nDen generelle rabatfaktor p친 Googles produkter: {Google.rabatfaktor}')

print(f'\nPrisen for f칮rste produkt f칮r rabat: {prod_1.pris}')

prod_1.tilf칮r_rabat()

print(f'Prisen for f칮rste produkt efter rabat: {prod_1.pris}')

>>> Antallet af Googles produkter: 1
>>> 
>>> Den generelle rabatfaktor p친 Googles produkter: 0.8
>>> 
>>> Prisen for f칮rste produkt f칮r rabat: 3000
>>> Prisen for f칮rste produkt efter rabat: 2400
```